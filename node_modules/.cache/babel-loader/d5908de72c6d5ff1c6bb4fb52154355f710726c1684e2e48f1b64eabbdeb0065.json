{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\f.alizadeh\\\\Desktop\\\\alizadeh\\\\admin_panel\\\\src\\\\components\\\\formik\\\\props_control_compos\\\\SearchableSelect.jsx\",\n  _s = $RefreshSig$();\nimport { ErrorMessage, FastField, Field } from \"formik\";\nimport React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport FormikError from \"./FormikError\";\n\n// if resultType == \"string\" then:  \"1-2-3\"  else:   [1,2,3]\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SearchableSelect = ({\n  resultType,\n  options,\n  name,\n  label,\n  className,\n  firstItem\n}) => {\n  _s();\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [showItems, setShowItems] = useState(false);\n  const [copyOptions, setCopyOptions] = useState(options);\n  useEffect(() => {\n    setCopyOptions(options);\n  }, [options]);\n  useEffect(() => {\n    document.querySelector(\"body\").addEventListener(\"click\", () => {\n      setShowItems(false);\n    });\n  }, []);\n  const handleSelectItems = (selectedId, formik) => {\n    if (selectedItems.findIndex(d => d.id == selectedId) == -1 && selectedId > 0) {\n      const newData = [...selectedItems, options.filter(o => o.id == selectedId)[0]];\n      setSelectedItems(newData);\n      const selectedIds = newData.map(nd => nd.id);\n      const nameValue = resultType == \"string\" ? selectedIds.join(\"-\") : selectedIds;\n      formik.setFieldValue(name, nameValue);\n    }\n  };\n  const handleRemovefromSelectedItems = (event, selectedId, formik) => {\n    event.stopPropagation();\n    setSelectedItems(oldData => {\n      const newData = oldData.filter(d => d.id != selectedId);\n      const selectedIds = newData.map(nd => nd.id);\n      const nameValue = resultType == \"string\" ? selectedIds.join(\"-\") : selectedIds;\n      formik.setFieldValue(name, nameValue);\n      return newData;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Field, {\n    children: ({\n      form\n    }) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `col-12 ${className}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group mb-3 dir_ltr pointer\",\n          onClick: e => {\n            e.stopPropagation();\n            setShowItems(!showItems);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-control\",\n            id: name + \"-select\",\n            children: [selectedItems.length > 0 ? selectedItems.map(selectedItem => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"chips_elem\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times text-danger\",\n                onClick: e => handleRemovefromSelectedItems(e, selectedItem.id, form)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 23\n              }, this), selectedItem.value]\n            }, selectedItem.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-secondary\",\n              children: firstItem\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `multi_select_items_content ${!showItems ? \"d-none\" : \"\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                placeholder: \"\\u0642\\u0633\\u0645\\u062A\\u06CC \\u0627\\u0632 \\u0639\\u0646\\u0648\\u0627\\u0646 \\u0645\\u0648\\u0631\\u062F \\u0646\\u0638\\u0631 \\u0631\\u0627 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F\",\n                onClick: e => e.stopPropagation(),\n                onChange: e => setCopyOptions(options.filter(o => o.value.includes(e.target.value)))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"p-0\",\n                children: copyOptions.map(o => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"multi_select_items pointer\",\n                  onClick: () => handleSelectItems(o.id, form),\n                  children: [\" \", o.value, \" \"]\n                }, o.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            htmlFor: name + \"-select\",\n            className: \"input-group-text w_6rem justify-content-center\",\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchableSelect, \"WkCvlXKsBywTo7vWWEqgwsZtexc=\");\n_c = SearchableSelect;\nvar _c;\n$RefreshReg$(_c, \"SearchableSelect\");","map":{"version":3,"names":["ErrorMessage","FastField","Field","React","useEffect","useState","FormikError","jsxDEV","_jsxDEV","SearchableSelect","resultType","options","name","label","className","firstItem","_s","selectedItems","setSelectedItems","showItems","setShowItems","copyOptions","setCopyOptions","document","querySelector","addEventListener","handleSelectItems","selectedId","formik","findIndex","d","id","newData","filter","o","selectedIds","map","nd","nameValue","join","setFieldValue","handleRemovefromSelectedItems","event","stopPropagation","oldData","children","form","onClick","e","length","selectedItem","fileName","_jsxFileName","lineNumber","columnNumber","value","type","placeholder","onChange","includes","target","htmlFor","_c","$RefreshReg$"],"sources":["C:/Users/f.alizadeh/Desktop/alizadeh/admin_panel/src/components/formik/props_control_compos/SearchableSelect.jsx"],"sourcesContent":["import { ErrorMessage, FastField, Field } from \"formik\";\r\nimport React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport FormikError from \"./FormikError\";\r\n\r\n// if resultType == \"string\" then:  \"1-2-3\"  else:   [1,2,3]\r\n\r\nexport const SearchableSelect = ({\r\n  resultType,\r\n  options,\r\n  name,\r\n  label,\r\n  className,\r\n  firstItem,\r\n}) => {\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n  const [showItems, setShowItems] = useState(false);\r\n  const [copyOptions, setCopyOptions] = useState(options);\r\n\r\n  useEffect(() => {\r\n    setCopyOptions(options);\r\n  }, [options]);\r\n\r\n  useEffect(() => {\r\n    document.querySelector(\"body\").addEventListener(\"click\", () => {\r\n      setShowItems(false);\r\n    });\r\n  }, []);\r\n\r\n  const handleSelectItems = (selectedId, formik) => {\r\n    if (\r\n      selectedItems.findIndex((d) => d.id == selectedId) == -1 &&\r\n      selectedId > 0\r\n    ) {\r\n      const newData = [\r\n        ...selectedItems,\r\n        options.filter((o) => o.id == selectedId)[0],\r\n      ];\r\n      setSelectedItems(newData);\r\n\r\n      const selectedIds = newData.map((nd) => nd.id);\r\n      const nameValue =\r\n        resultType == \"string\" ? selectedIds.join(\"-\") : selectedIds;\r\n      formik.setFieldValue(name, nameValue);\r\n    }\r\n  };\r\n\r\n  const handleRemovefromSelectedItems = (event, selectedId, formik) => {\r\n    event.stopPropagation();\r\n    setSelectedItems((oldData) => {\r\n      const newData = oldData.filter((d) => d.id != selectedId);\r\n\r\n      const selectedIds = newData.map((nd) => nd.id);\r\n      const nameValue =\r\n        resultType == \"string\" ? selectedIds.join(\"-\") : selectedIds;\r\n      formik.setFieldValue(name, nameValue);\r\n\r\n      return newData;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Field>\r\n      {({ form }) => {\r\n        return (\r\n          <div className={`col-12 ${className}`}>\r\n            <div\r\n              className=\"input-group mb-3 dir_ltr pointer\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setShowItems(!showItems);\r\n              }}\r\n            >\r\n              <div className=\"form-control\" id={name + \"-select\"}>\r\n                {selectedItems.length > 0 ? (\r\n                  selectedItems.map((selectedItem) => (\r\n                    <span className=\"chips_elem\" key={selectedItem.id}>\r\n                      <i\r\n                        className=\"fas fa-times text-danger\"\r\n                        onClick={(e) =>\r\n                          handleRemovefromSelectedItems(\r\n                            e,\r\n                            selectedItem.id,\r\n                            form\r\n                          )\r\n                        }\r\n                      ></i>\r\n                      {selectedItem.value}\r\n                    </span>\r\n                  ))\r\n                ) : (\r\n                  <span className=\"text-secondary\">{firstItem}</span>\r\n                )}\r\n                <div\r\n                  className={`multi_select_items_content ${\r\n                    !showItems ? \"d-none\" : \"\"\r\n                  }`}\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"قسمتی از عنوان مورد نظر را وارد کنید\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                    onChange={(e) =>\r\n                      setCopyOptions(\r\n                        options.filter((o) => o.value.includes(e.target.value))\r\n                      )\r\n                    }\r\n                  />\r\n                  <ul className=\"p-0\">\r\n                    {copyOptions.map((o) => (\r\n                      <li\r\n                        key={o.id}\r\n                        className=\"multi_select_items pointer\"\r\n                        onClick={() => handleSelectItems(o.id, form)}\r\n                      >\r\n                        {\" \"}\r\n                        {o.value}{\" \"}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <span\r\n                htmlFor={name + \"-select\"}\r\n                className=\"input-group-text w_6rem justify-content-center\"\r\n              >\r\n                {label}\r\n              </span>\r\n            </div>\r\n            {/* <ErrorMessage name={name} component={FormikError} /> */}\r\n          </div>\r\n        );\r\n      }}\r\n    </Field>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}