{"ast":null,"code":"import { httpService } from \"./httpService\";\nexport const loginService = values => {\n  return httpService(\"api/auth/login\", \"post\", {\n    ...values,\n    remember: values.remember ? 1 : 0\n  });\n};\nexport const registerService = () => {\n  return httpService(\"api/auth/register\", \"post\");\n};\nexport const isLoginService = async (loading, isLogin, setIsLogin, setLoading) => {\n  const loginToken = JSON.parse(localStorage.getItem(\"loginToken\"));\n  if (loginToken) {\n    const res = await httpService(\"api/auth/user\", \"get\", {\n      headers: {\n        Authorization: `Bearer ${loginToken.token}`\n      }\n    });\n    try {\n      setIsLogin(res.status == 200 ? true : false);\n      setLoading(false);\n    } catch (error) {\n      localStorage.removeItem(\"loginToken\");\n      setIsLogin(false);\n      setLoading(false);\n    }\n  } else {\n    setIsLogin(false);\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["httpService","loginService","values","remember","registerService","isLoginService","loading","isLogin","setIsLogin","setLoading","loginToken","JSON","parse","localStorage","getItem","res","headers","Authorization","token","status","error","removeItem"],"sources":["C:/Users/f.alizadeh/Desktop/alizadeh/admin_panel/src/services/authServices.js"],"sourcesContent":["import { httpService } from \"./httpService\";\r\n\r\nexport const loginService = (values) => {\r\n  return httpService(\"api/auth/login\", \"post\", {\r\n    ...values,\r\n    remember: values.remember ? 1 : 0,\r\n  });\r\n};\r\n\r\nexport const registerService = () => {\r\n  return httpService(\"api/auth/register\", \"post\");\r\n};\r\n\r\n\r\nexport const isLoginService = async (\r\n  loading,\r\n  isLogin,\r\n  setIsLogin,\r\n  setLoading\r\n) => {\r\n  const loginToken = JSON.parse(localStorage.getItem(\"loginToken\"));\r\n  if (loginToken) {\r\n    const res = await httpService(\"api/auth/user\", \"get\", {\r\n      headers: {\r\n        Authorization: `Bearer ${loginToken.token}`,\r\n      },\r\n    });\r\n    try {\r\n      setIsLogin(res.status == 200 ? true : false);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      localStorage.removeItem(\"loginToken\");\r\n      setIsLogin(false);\r\n      setLoading(false);\r\n    }\r\n  } else {\r\n    setIsLogin(false);\r\n    setLoading(false);\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,eAAe;AAE3C,OAAO,MAAMC,YAAY,GAAIC,MAAM,IAAK;EACtC,OAAOF,WAAW,CAAC,gBAAgB,EAAE,MAAM,EAAE;IAC3C,GAAGE,MAAM;IACTC,QAAQ,EAAED,MAAM,CAACC,QAAQ,GAAG,CAAC,GAAG;EAClC,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EACnC,OAAOJ,WAAW,CAAC,mBAAmB,EAAE,MAAM,CAAC;AACjD,CAAC;AAGD,OAAO,MAAMK,cAAc,GAAG,MAAAA,CAC5BC,OAAO,EACPC,OAAO,EACPC,UAAU,EACVC,UAAU,KACP;EACH,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC;EACjE,IAAIJ,UAAU,EAAE;IACd,MAAMK,GAAG,GAAG,MAAMf,WAAW,CAAC,eAAe,EAAE,KAAK,EAAE;MACpDgB,OAAO,EAAE;QACPC,aAAa,EAAG,UAASP,UAAU,CAACQ,KAAM;MAC5C;IACF,CAAC,CAAC;IACF,IAAI;MACFV,UAAU,CAACO,GAAG,CAACI,MAAM,IAAI,GAAG,GAAG,IAAI,GAAG,KAAK,CAAC;MAC5CV,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdP,YAAY,CAACQ,UAAU,CAAC,YAAY,CAAC;MACrCb,UAAU,CAAC,KAAK,CAAC;MACjBC,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,MAAM;IACLD,UAAU,CAAC,KAAK,CAAC;IACjBC,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}